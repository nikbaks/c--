
#include <iostream>
using namespace std;


template < typename T_array>
class Array
{
    T_array* arr;
    int size;
public:
    Array() : arr(nullptr), size(0) {}
    Array(int size)
    {
        this->size = size;
        arr = new T_array[size];
        for (int i = 0; i < size; i++)
        {
            arr[i] = 0;
        }
    }
    Array(const initializer_list<T_array>& list)
    {
        this->size = list.size();
        arr = new T_array[size];
        int i = 0;
        for (T_array element : list)
        {
            arr[i++] = element;
        }
    }
    void FillArray(const initializer_list<T_array>& list)
    {
        if (arr != nullptr)delete[]arr;
        this->size = list.size();//20   --->  3
        arr = new T_array[size];    //arr = 0x145x5  ---> 0x3x66z
        int i = 0;
        for (T_array element : list)
        {
            arr[i++] = element;
        }
    }
    void Print()
    {
        for (int i = 0; i < size; i++)
        {
            cout << arr[i] << " ";
        }
        cout << endl;
    }
    ~Array()
    {
        delete[]arr;
    }
    
    T_array getMax();
    T_array getMin();
    void BubleSort();
    int BinarySearch(T_array key);
    void changeelement(T_array value, int index);
};


int main()
{
    Array<int>arr({ 5,2,7,6,45,13,8,42,53,9 });
    arr.Print();
    cout << "max" << arr.getMax()<<endl;
    cout << "min" << arr.getMin()<<endl;
    arr.BubleSort();
    arr.Print();
}

template<typename T_array>
inline T_array Array<T_array>::getMax()
{
    T_array max = arr[0];
    for (int i = 0; i < size; i++)
    {
        if (arr[i] > max)max = arr[i];
    }
    return max;
}

template<typename T_array>
inline T_array Array<T_array>::getMin()
{
    T_array min = arr[0];
    for (int i = 0; i < size; i++)
    {
        if (arr[i] < min)min = arr[i];
    }
    return min;
}

template<typename T_array>
inline void Array<T_array>::BubleSort()
{
    T_array temp;
    for (int i = 0; i < size; i++)//40
    {
        //1 4  2 7 3 11 8 9 6  - 9 el - j = 6
        for (int j = size - 1; j > i; j--)
        {
            if (arr[j - 1] > arr[j])
            {
                temp = arr[j - 1];
                arr[j - 1] = arr[j];
                arr[j] = temp;
            }
        }
    }
}

template<typename T_array>
inline int Array<T_array>::BinarySearch(T_array key)
{
    int B = 0, E = size - 1;
    while (true)
    {
        int p = (B + E) / 2;
        if (key > arr[p])
            B = p + 1;
        else if (key < arr[p])
            E = p - 1;
        else if (key == arr[p])
            return p;

        if (B > E)return -1;
    }
}

template<typename T_array>
inline void Array<T_array>::changeelement(T_array value, int index) {
    if (index >= 0 && index < size) {
        arr[index] = value;
    }
}
